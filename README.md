# refrigerator-simulation
基于Stm32标准库及若干外设，搭建一个模拟冰箱的系统。

**外设模块

1、EC11旋钮编码器；2、TB6612电机驱动模块；3、5V直流电机；4、AT24C02（EEPROM)；5、DHT20温湿度传感器；6、蜂鸣器；7、ESP8266无线WiFi模块；8、LED灯泡；9、0.96寸OLED模块；10、ST-Link


**实现的基础功能及依赖模块

一、基础功能

1、检测桓温：实时检测环境温湿度，并显示环境温度（DHT20温湿度传感器+OLED+I2C+状态机）；

2、温度调整：用户通过旋钮设定目标温度，并显示（EC11旋钮编码器+OLED）；

3、蜂鸣器警报：特定条件下间歇鸣响（蜂鸣器+状态机）；

4、按键开关：用于模拟冰箱门开闭（按键模块/跳线+GPIO）；

5、食物照明灯：用于照亮箱内空间（LED灯泡+GPIO）；

6、压缩机运行：制冷核心，用5V直流电机模拟（5V直流电机+PWM）；

7、联网功能：连接指定网络并请求网络事件，解析出时间戳（ESP8266+串口通信）；

8、自带时钟：开启后启动计时器记录时间（RTC实时时钟）；

9、存储数据：预留了一个EEPROM，用于存储数据（AT24C02）；

10、定时器：定时中断，用于非阻塞状态机的实现（蜂鸣器间歇鸣响、DHT20模块）；

11、显示状态：显示冰箱各个数据，包括环境温度、设定温度、计数器检测是否阻塞、实时时间戳、开关门状态、开关门次数（0.96寸OLED模块） 。

二、组合功能

1、控温：直流电机基于环境温度与目标温度差，自动调整转速，模拟压缩机运转（基础功能1+2+6+10）；

2、开门亮灯：打开冰箱门后，箱内灯光自动点亮（基础功能4+5）；

3、未关门报警：打开门冰箱长时间未关闭，报警提示，蜂鸣器间歇鸣响（基础功能3+4+5+10）；

4、记录开门时间点：用户开门后，记录当前时间，并存储起来（基础功能4+7+8+9）；

5、显示开关门次数及状态：将开关状态、次数显示在OLED屏幕上（基础功能4+11）

三、原理图
<img width="1193" height="837" alt="原理图0921" src="https://github.com/user-attachments/assets/64ae88e6-b4de-4407-b6a7-475ade366ac2" />

四、实物图
![实物图0921](https://github.com/user-attachments/assets/126d4bc7-8a64-4138-aedf-fefc36aec54a)

